(function(Z,L){typeof exports=="object"&&typeof module<"u"?L(exports,require("vue"),require("vue-router")):typeof define=="function"&&define.amd?define(["exports","vue","vue-router"],L):(Z=typeof globalThis<"u"?globalThis:Z||self,L(Z.VUseCryptedRoute={},Z.Vue,Z.VueRouter))})(this,function(Z,L,Er){"use strict";var x=Uint8Array,z=Uint16Array,fr=Uint32Array,vr=new x([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tr=new x([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ur=new x([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Tr=function(r,n){for(var e=new z(31),a=0;a<31;++a)e[a]=n+=1<<r[a-1];for(var f=new fr(e[30]),a=1;a<30;++a)for(var v=e[a];v<e[a+1];++v)f[v]=v-e[a]<<5|a;return[e,f]},Ar=Tr(vr,2),Fr=Ar[0],lr=Ar[1];Fr[28]=258,lr[258]=28;for(var kr=Tr(tr,0),Br=kr[0],zr=kr[1],cr=new z(32768),h=0;h<32768;++h){var $=(h&43690)>>>1|(h&21845)<<1;$=($&52428)>>>2|($&13107)<<2,$=($&61680)>>>4|($&3855)<<4,cr[h]=(($&65280)>>>8|($&255)<<8)>>>1}for(var G=function(r,n,e){for(var a=r.length,f=0,v=new z(n);f<a;++f)r[f]&&++v[r[f]-1];var u=new z(n);for(f=0;f<n;++f)u[f]=u[f-1]+v[f-1]<<1;var c;if(e){c=new z(1<<n);var o=15-n;for(f=0;f<a;++f)if(r[f])for(var i=f<<4|r[f],t=n-r[f],s=u[r[f]-1]++<<t,g=s|(1<<t)-1;s<=g;++s)c[cr[s]>>>o]=i}else for(c=new z(a),f=0;f<a;++f)r[f]&&(c[f]=cr[u[r[f]-1]++]>>>15-r[f]);return c},j=new x(288),h=0;h<144;++h)j[h]=8;for(var h=144;h<256;++h)j[h]=9;for(var h=256;h<280;++h)j[h]=7;for(var h=280;h<288;++h)j[h]=8;for(var rr=new x(32),h=0;h<32;++h)rr[h]=5;var Pr=G(j,9,0),Vr=G(j,9,1),Jr=G(rr,5,0),Yr=G(rr,5,1),hr=function(r){for(var n=r[0],e=1;e<r.length;++e)r[e]>n&&(n=r[e]);return n},V=function(r,n,e){var a=n/8|0;return(r[a]|r[a+1]<<8)>>(n&7)&e},wr=function(r,n){var e=n/8|0;return(r[e]|r[e+1]<<8|r[e+2]<<16)>>(n&7)},sr=function(r){return(r+7)/8|0},ir=function(r,n,e){(n==null||n<0)&&(n=0),(e==null||e>r.length)&&(e=r.length);var a=new(r.BYTES_PER_ELEMENT==2?z:r.BYTES_PER_ELEMENT==4?fr:x)(e-n);return a.set(r.subarray(n,e)),a},_r=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],J=function(r,n,e){var a=new Error(n||_r[r]);if(a.code=r,Error.captureStackTrace&&Error.captureStackTrace(a,J),!e)throw a;return a},Wr=function(r,n,e){var a=r.length;if(!a||e&&e.f&&!e.l)return n||new x(0);var f=!n||e,v=!e||e.i;e||(e={}),n||(n=new x(a*3));var u=function(or){var nr=n.length;if(or>nr){var d=new x(Math.max(nr*2,or));d.set(n),n=d}},c=e.f||0,o=e.p||0,i=e.b||0,t=e.l,s=e.d,g=e.m,w=e.n,R=a*8;do{if(!t){c=V(r,o,1);var E=V(r,o+1,3);if(o+=3,E)if(E==1)t=Vr,s=Yr,g=9,w=5;else if(E==2){var H=V(r,o,31)+257,_=V(r,o+10,15)+4,D=H+V(r,o+5,31)+1;o+=14;for(var T=new x(D),C=new x(19),l=0;l<_;++l)C[ur[l]]=V(r,o+l*3,7);o+=_*3;for(var I=hr(C),q=(1<<I)-1,p=G(C,I,1),l=0;l<D;){var A=p[V(r,o,q)];o+=A&15;var y=A>>>4;if(y<16)T[l++]=y;else{var N=0,F=0;for(y==16?(F=3+V(r,o,3),o+=2,N=T[l-1]):y==17?(F=3+V(r,o,7),o+=3):y==18&&(F=11+V(r,o,127),o+=7);F--;)T[l++]=N}}var U=T.subarray(0,H),M=T.subarray(H);g=hr(U),w=hr(M),t=G(U,g,1),s=G(M,w,1)}else J(1);else{var y=sr(o)+4,Y=r[y-4]|r[y-3]<<8,b=y+Y;if(b>a){v&&J(0);break}f&&u(i+Y),n.set(r.subarray(y,b),i),e.b=i+=Y,e.p=o=b*8,e.f=c;continue}if(o>R){v&&J(0);break}}f&&u(i+131072);for(var S=(1<<g)-1,O=(1<<w)-1,P=o;;P=o){var N=t[wr(r,o)&S],K=N>>>4;if(o+=N&15,o>R){v&&J(0);break}if(N||J(2),K<256)n[i++]=K;else if(K==256){P=o,t=null;break}else{var B=K-254;if(K>264){var l=K-257,W=vr[l];B=V(r,o,(1<<W)-1)+Fr[l],o+=W}var Q=s[wr(r,o)&O],m=Q>>>4;Q||J(3),o+=Q&15;var M=Br[m];if(m>3){var W=tr[m];M+=wr(r,o)&(1<<W)-1,o+=W}if(o>R){v&&J(0);break}f&&u(i+131072);for(var k=i+B;i<k;i+=4)n[i]=n[i-M],n[i+1]=n[i+1-M],n[i+2]=n[i+2-M],n[i+3]=n[i+3-M];i=k}}e.l=t,e.p=P,e.b=i,e.f=c,t&&(c=1,e.m=g,e.d=s,e.n=w)}while(!c);return i==n.length?n:ir(n,0,i)},X=function(r,n,e){e<<=n&7;var a=n/8|0;r[a]|=e,r[a+1]|=e>>>8},er=function(r,n,e){e<<=n&7;var a=n/8|0;r[a]|=e,r[a+1]|=e>>>8,r[a+2]|=e>>>16},gr=function(r,n){for(var e=[],a=0;a<r.length;++a)r[a]&&e.push({s:a,f:r[a]});var f=e.length,v=e.slice();if(!f)return[Mr,0];if(f==1){var u=new x(e[0].s+1);return u[e[0].s]=1,[u,1]}e.sort(function(D,T){return D.f-T.f}),e.push({s:-1,f:25001});var c=e[0],o=e[1],i=0,t=1,s=2;for(e[0]={s:-1,f:c.f+o.f,l:c,r:o};t!=f-1;)c=e[e[i].f<e[s].f?i++:s++],o=e[i!=t&&e[i].f<e[s].f?i++:s++],e[t++]={s:-1,f:c.f+o.f,l:c,r:o};for(var g=v[0].s,a=1;a<f;++a)v[a].s>g&&(g=v[a].s);var w=new z(g+1),R=yr(e[t-1],w,0);if(R>n){var a=0,E=0,y=R-n,Y=1<<y;for(v.sort(function(T,C){return w[C.s]-w[T.s]||T.f-C.f});a<f;++a){var b=v[a].s;if(w[b]>n)E+=Y-(1<<R-w[b]),w[b]=n;else break}for(E>>>=y;E>0;){var H=v[a].s;w[H]<n?E-=1<<n-w[H]++-1:++a}for(;a>=0&&E;--a){var _=v[a].s;w[_]==n&&(--w[_],++E)}R=n}return[new x(w),R]},yr=function(r,n,e){return r.s==-1?Math.max(yr(r.l,n,e+1),yr(r.r,n,e+1)):n[r.s]=e},Rr=function(r){for(var n=r.length;n&&!r[--n];);for(var e=new z(++n),a=0,f=r[0],v=1,u=function(o){e[a++]=o},c=1;c<=n;++c)if(r[c]==f&&c!=n)++v;else{if(!f&&v>2){for(;v>138;v-=138)u(32754);v>2&&(u(v>10?v-11<<5|28690:v-3<<5|12305),v=0)}else if(v>3){for(u(f),--v;v>6;v-=6)u(8304);v>2&&(u(v-3<<5|8208),v=0)}for(;v--;)u(f);v=1,f=r[c]}return[e.subarray(0,a),n]},ar=function(r,n){for(var e=0,a=0;a<n.length;++a)e+=r[a]*n[a];return e},Cr=function(r,n,e){var a=e.length,f=sr(n+2);r[f]=a&255,r[f+1]=a>>>8,r[f+2]=r[f]^255,r[f+3]=r[f+1]^255;for(var v=0;v<a;++v)r[f+v+4]=e[v];return(f+4+a)*8},br=function(r,n,e,a,f,v,u,c,o,i,t){X(n,t++,e),++f[256];for(var s=gr(f,15),g=s[0],w=s[1],R=gr(v,15),E=R[0],y=R[1],Y=Rr(g),b=Y[0],H=Y[1],_=Rr(E),D=_[0],T=_[1],C=new z(19),l=0;l<b.length;++l)C[b[l]&31]++;for(var l=0;l<D.length;++l)C[D[l]&31]++;for(var I=gr(C,7),q=I[0],p=I[1],A=19;A>4&&!q[ur[A-1]];--A);var N=i+5<<3,F=ar(f,j)+ar(v,rr)+u,U=ar(f,g)+ar(v,E)+u+14+3*A+ar(C,q)+(2*C[16]+3*C[17]+7*C[18]);if(N<=F&&N<=U)return Cr(n,t,r.subarray(o,o+i));var M,S,O,P;if(X(n,t,1+(U<F)),t+=2,U<F){M=G(g,w,0),S=g,O=G(E,y,0),P=E;var K=G(q,p,0);X(n,t,H-257),X(n,t+5,T-1),X(n,t+10,A-4),t+=14;for(var l=0;l<A;++l)X(n,t+3*l,q[ur[l]]);t+=3*A;for(var B=[b,D],W=0;W<2;++W)for(var Q=B[W],l=0;l<Q.length;++l){var m=Q[l]&31;X(n,t,K[m]),t+=q[m],m>15&&(X(n,t,Q[l]>>>5&127),t+=Q[l]>>>12)}}else M=Pr,S=j,O=Jr,P=rr;for(var l=0;l<c;++l)if(a[l]>255){var m=a[l]>>>18&31;er(n,t,M[m+257]),t+=S[m+257],m>7&&(X(n,t,a[l]>>>23&31),t+=vr[m]);var k=a[l]&31;er(n,t,O[k]),t+=P[k],k>3&&(er(n,t,a[l]>>>5&8191),t+=tr[k])}else er(n,t,M[a[l]]),t+=S[a[l]];return er(n,t,M[256]),t+S[256]},Gr=new fr([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Mr=new x(0),Hr=function(r,n,e,a,f,v){var u=r.length,c=new x(a+u+5*(1+Math.ceil(u/7e3))+f),o=c.subarray(a,c.length-f),i=0;if(!n||u<8)for(var t=0;t<=u;t+=65535){var s=t+65535;s>=u&&(o[i>>3]=v),i=Cr(o,i+1,r.subarray(t,s))}else{for(var g=Gr[n-1],w=g>>>13,R=g&8191,E=(1<<e)-1,y=new z(32768),Y=new z(E+1),b=Math.ceil(e/3),H=2*b,_=function(xr){return(r[xr]^r[xr+1]<<b^r[xr+2]<<H)&E},D=new fr(25e3),T=new z(288),C=new z(32),l=0,I=0,t=0,q=0,p=0,A=0;t<u;++t){var N=_(t),F=t&32767,U=Y[N];if(y[F]=U,Y[N]=F,p<=t){var M=u-t;if((l>7e3||q>24576)&&M>423){i=br(r,o,0,D,T,C,I,q,A,t-A,i),q=l=I=0,A=t;for(var S=0;S<286;++S)T[S]=0;for(var S=0;S<30;++S)C[S]=0}var O=2,P=0,K=R,B=F-U&32767;if(M>2&&N==_(t-B))for(var W=Math.min(w,M)-1,Q=Math.min(32767,t),m=Math.min(258,M);B<=Q&&--K&&F!=U;){if(r[t+O]==r[t+O-B]){for(var k=0;k<m&&r[t+k]==r[t+k-B];++k);if(k>O){if(O=k,P=B,k>W)break;for(var or=Math.min(B,k-2),nr=0,S=0;S<or;++S){var d=t-B+S+32768&32767,ne=y[d],Dr=d-ne+32768&32767;Dr>nr&&(nr=Dr,U=d)}}}F=U,U=y[F],B+=F-U+32768&32767}if(P){D[q++]=268435456|lr[O]<<18|zr[P];var Nr=lr[O]&31,Or=zr[P]&31;I+=vr[Nr]+tr[Or],++T[257+Nr],++C[Or],p=t+O,++l}else D[q++]=r[t],++T[r[t]]}}i=br(r,o,v,D,T,C,I,q,A,t-A,i),!v&&i&7&&(i=Cr(o,i+1,Mr))}return ir(c,0,a+sr(i)+f)},Ir=function(){var r=1,n=0;return{p:function(e){for(var a=r,f=n,v=e.length|0,u=0;u!=v;){for(var c=Math.min(u+2655,v);u<c;++u)f+=a+=e[u];a=(a&65535)+15*(a>>16),f=(f&65535)+15*(f>>16)}r=a,n=f},d:function(){return r%=65521,n%=65521,(r&255)<<24|r>>>8<<16|(n&255)<<8|n>>>8}}},Kr=function(r,n,e,a,f){return Hr(r,n.level==null?6:n.level,n.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):12+n.mem,e,a,!f)},Qr=function(r,n,e){for(;e;++n)r[n]=e,e>>>=8},Xr=function(r,n){var e=n.level,a=e==0?0:e<6?1:e==9?3:2;r[0]=120,r[1]=a<<6|(a?32-2*a:1)},Zr=function(r){((r[0]&15)!=8||r[0]>>>4>7||(r[0]<<8|r[1])%31)&&J(6,"invalid zlib data"),r[1]&32&&J(6,"invalid zlib data: preset dictionaries not supported")};function $r(r,n){n||(n={});var e=Ir();e.p(r);var a=Kr(r,n,2,4);return Xr(a,n),Qr(a,a.length-4,e.d()),a}function jr(r,n){return Wr((Zr(r),r.subarray(2,-4)),n)}var qr=typeof TextEncoder<"u"&&new TextEncoder,Sr=typeof TextDecoder<"u"&&new TextDecoder,Lr=0;try{Sr.decode(Mr,{stream:!0}),Lr=1}catch{}var pr=function(r){for(var n="",e=0;;){var a=r[e++],f=(a>127)+(a>223)+(a>239);if(e+f>r.length)return[n,ir(r,e-1)];f?f==3?(a=((a&15)<<18|(r[e++]&63)<<12|(r[e++]&63)<<6|r[e++]&63)-65536,n+=String.fromCharCode(55296|a>>10,56320|a&1023)):f&1?n+=String.fromCharCode((a&31)<<6|r[e++]&63):n+=String.fromCharCode((a&15)<<12|(r[e++]&63)<<6|r[e++]&63):n+=String.fromCharCode(a)}};function Ur(r,n){if(n){for(var e=new x(r.length),a=0;a<r.length;++a)e[a]=r.charCodeAt(a);return e}if(qr)return qr.encode(r);for(var f=r.length,v=new x(r.length+(r.length>>1)),u=0,c=function(t){v[u++]=t},a=0;a<f;++a){if(u+5>v.length){var o=new x(u+8+(f-a<<1));o.set(v),v=o}var i=r.charCodeAt(a);i<128||n?c(i):i<2048?(c(192|i>>6),c(128|i&63)):i>55295&&i<57344?(i=65536+(i&1023<<10)|r.charCodeAt(++a)&1023,c(240|i>>18),c(128|i>>12&63),c(128|i>>6&63),c(128|i&63)):(c(224|i>>12),c(128|i>>6&63),c(128|i&63))}return ir(v,0,u)}function mr(r,n){if(n){for(var e="",a=0;a<r.length;a+=16384)e+=String.fromCharCode.apply(null,r.subarray(a,a+16384));return e}else{if(Sr)return Sr.decode(r);var f=pr(r),v=f[0],u=f[1];return u.length&&J(8),v}}const dr=()=>({encrypt:e=>{const a=Ur(e),f=$r(a,{level:9}),v=mr(f,!0);return btoa(v)},decrypt:e=>{const a=atob(e);if(a.startsWith("x\xDA")){const f=Ur(a,!0),v=jr(f);return mr(v)}return a}}),{encrypt:re,decrypt:ee}=dr(),ae=(r="state")=>{const n=Er.useRouter(),e=Er.useRoute(),a=L.ref({}),f=async u=>{const c=re(JSON.stringify(u));await n.push({name:e.name,params:e.params,query:{[r]:c}})},v=()=>{if(!e.query[r])return{};const u=ee(e.query[r]);return JSON.parse(u)};return L.watch(()=>e==null?void 0:e.query,()=>{a.value=v()}),L.onMounted(()=>{a.value=v()}),{setRouteData:f,getRouteData:v,state:a,route:e,router:n}};Z.useCryptedRoute=ae,Object.defineProperties(Z,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
